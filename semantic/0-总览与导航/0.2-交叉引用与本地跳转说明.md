# 0.2 交叉引用与本地跳转说明

[上一节：全局主题树形目录](./0.1-全局主题树形目录.md) | [返回总览](./README.md) | [下一节：持续上下文进度文档](./0.3-持续上下文进度文档.md)

---

## 概述

本文档详细说明了Lean语义分析项目中交叉引用和本地跳转的规范和使用方法，确保文档间的导航一致性和用户体验。

## 1. 交叉引用系统

### 1.1 引用类型

#### 1.1.1 同级引用

同级文档间的相互引用，使用相对路径：

```markdown
[1.2 类型系统与证明系统](./1.2-lean-类型系统与证明系统.md)
```

#### 1.1.2 上下级引用

不同层级文档间的引用：

```markdown
# 上级引用
[返回总览](../README.md)

# 下级引用  
[1.8.1 简单类型理论](./1.8.1-简单类型理论.md)
```

#### 1.1.3 跨主题引用

不同主题间的引用：

```markdown
[2.1 形式化理论统一框架](../2-lean-形式化理论基础/2.1-形式化理论统一框架.md)
```

### 1.2 引用规范

#### 1.2.1 路径规范

- 使用相对路径，避免绝对路径
- 路径分隔符使用正斜杠 `/`
- 文件名使用连字符分隔

#### 1.2.2 链接文本规范

- 链接文本包含序号和主题名称
- 格式：`[序号 主题名称](路径)`
- 保持链接文本的一致性

## 2. 本地跳转系统

### 2.1 文档内跳转

#### 2.1.1 标题锚点

使用标题的锚点进行文档内跳转：

```markdown
[跳转到类型系统](#2-类型系统)
```

#### 2.1.2 锚点生成规则

- 标题转换为小写
- 空格替换为连字符
- 特殊字符移除

### 2.2 跨文档跳转

#### 2.2.1 直接跳转

直接跳转到目标文档的特定章节：

```markdown
[1.8.1 简单类型理论](./1.8.1-简单类型理论.md#简单类型理论基础)
```

#### 2.2.2 上下文跳转

提供上下文信息的跳转：

```markdown
[参见1.8.1节简单类型理论](./1.8.1-简单类型理论.md)中的相关讨论
```

## 3. 导航结构

### 3.1 文档头部导航

每个文档应包含以下导航结构：

```markdown
[上一节：主题名称](./previous.md) | [返回总览](./README.md) | [下一节：主题名称](./next.md)
```

### 3.2 文档尾部导航

文档尾部应包含相关链接：

```markdown
## 相关链接

### 上级主题
- [1.8 类型论理论模型](./1.8-类型论理论模型.md)

### 下级主题  
- [1.8.2 依赖类型理论](./1.8.2-依赖类型理论.md)
- [1.8.3 线性类型理论](./1.8.3-线性类型理论.md)

### 相关主题
- [1.9 证明论与推理系统](./1.9-证明论与推理系统.md)
- [2.2 类型论与证明论基础](../2-lean-形式化理论基础/2.2-类型论与证明论基础.md)
```

## 4. 交叉引用索引

### 4.1 主题索引

按主题分类的交叉引用：

```markdown
## 主题索引

### 类型理论
- [1.8 类型论理论模型](./1.8-类型论理论模型.md)
- [1.8.1 简单类型理论](./1.8.1-简单类型理论.md)
- [1.8.2 依赖类型理论](./1.8.2-依赖类型理论.md)

### 证明论
- [1.9 证明论与推理系统](./1.9-证明论与推理系统.md)
- [1.9.1 自然演绎系统](./1.9.1-自然演绎系统.md)
```

### 4.2 概念索引

按概念分类的交叉引用：

```markdown
## 概念索引

### 类型系统
- 简单类型：参见 [1.8.1 简单类型理论](./1.8.1-简单类型理论.md)
- 依赖类型：参见 [1.8.2 依赖类型理论](./1.8.2-依赖类型理论.md)
- 线性类型：参见 [1.8.3 线性类型理论](./1.8.3-线性类型理论.md)
```

## 5. 维护规范

### 5.1 链接维护

- 定期检查链接的有效性
- 更新失效的链接
- 保持链接文本的一致性

### 5.2 结构维护

- 新增文档时更新相关链接
- 删除文档时清理相关引用
- 重命名文档时更新所有引用

### 5.3 版本控制

- 记录链接变更历史
- 维护向后兼容性
- 提供迁移指南

## 6. 最佳实践

### 6.1 链接设计

- 链接文本应具有描述性
- 避免使用"点击这里"等模糊文本
- 提供足够的上下文信息

### 6.2 导航体验

- 保持导航结构的一致性
- 提供多种导航方式
- 确保导航的可用性

### 6.3 内容组织

- 相关主题应相互链接
- 避免孤立的文档
- 建立完整的知识网络

## 7. 工具支持

### 7.1 自动化工具

- 链接检查工具
- 锚点生成工具
- 交叉引用生成工具

### 7.2 编辑器支持

- Markdown预览
- 链接跳转
- 锚点导航

## 8. 示例

### 8.1 完整文档示例

```markdown
# 1.8.1 简单类型理论

[上一节：1.8 类型论理论模型](./1.8-类型论理论模型.md) | [返回总览](../README.md) | [下一节：1.8.2 依赖类型理论](./1.8.2-依赖类型理论.md)

---

## 概述

简单类型理论是类型理论的基础...

## 1. 基础概念

### 1.1 类型定义

类型是值的集合...

### 1.2 类型规则

类型规则定义了...

## 2. 类型系统

### 2.1 简单类型λ演算

简单类型λ演算...

### 2.2 类型推导

类型推导算法...

## 相关链接

### 上级主题
- [1.8 类型论理论模型](./1.8-类型论理论模型.md)

### 下级主题
- [1.8.2 依赖类型理论](./1.8.2-依赖类型理论.md)

### 相关主题
- [1.9 证明论与推理系统](./1.9-证明论与推理系统.md)
- [2.2 类型论与证明论基础](../2-lean-形式化理论基础/2.2-类型论与证明论基础.md)

---

**最后更新**：2025-01-01  
**版本**：v2025-01
```

## 9. 故障排除

### 9.1 常见问题

- 链接失效：检查文件路径和文件名
- 锚点不工作：检查标题格式和锚点生成
- 导航混乱：检查导航结构的一致性

### 9.2 解决方案

- 使用相对路径
- 保持文件名的一致性
- 定期检查和更新链接

---

**最后更新**：2025-01-01  
**版本**：v2025-01  
**维护者**：Lean语义分析项目组
